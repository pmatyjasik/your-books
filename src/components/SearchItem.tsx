import Link from 'next/link';
import React from 'react';
import { AiOutlineBook } from 'react-icons/ai';
import Image from 'next/image';

interface SearchItemProps {
	title: string;
	authors: string[];
	id: string;
	publishedDate?: string;
	imageLinks?: { thumbnail: string };
	onClick?: () => void;
}

const SearchItem = ({
	title,
	authors,
	id,
	publishedDate,
	imageLinks,
	onClick,
}: SearchItemProps) => {
	return (
		<Link href={`/book/${id}`} key={id}>
			<div
				className="flex flex-row pt-2 pb-2 shadow-md cursor-pointer hover:bg-primary"
				onClick={onClick}
			>
				<div className="flex items-center justify-center w-1/5">
					{imageLinks ? (
						<Image
							loader={() => imageLinks.thumbnail}
							unoptimized={true}
							src={imageLinks.thumbnail}
							width={50}
							height={50}
							blurDataURL="data:image/jpeg;base64,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"
							placeholder="blur"
							alt="Thumnbail"
						/>
					) : (
						<AiOutlineBook className="text-4xl text-white w-[50px] h-[50px] opacity-50" />
					)}
				</div>
				<div className="flex flex-col w-4/5">
					<p className="pr-2 text-sm font-bold text-white">{title}</p>
					{authors ? (
						<p className="pr-2 text-sm text-white">{authors[0]}</p>
					) : (
						<p className="pr-2 text-sm text-white">-</p>
					)}
					{publishedDate ? (
						<p className="pr-2 text-sm text-white">
							{publishedDate?.split('-')[0]}
						</p>
					) : (
						<p className="pr-2 text-sm text-white">-</p>
					)}
				</div>
			</div>
		</Link>
	);
};

export default React.memo(SearchItem);
